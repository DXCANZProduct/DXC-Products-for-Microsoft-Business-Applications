---
# required metadata

title: [Finance Utilities ]
description: [Finance Utilities - Save Electronic reporting file to secure location ]
author: [helenho]
manager: Kym Parker
ms.date: 02/03/2021
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 

# optional metadata

# ms.search.form:  [Finance Utilities ]
audience: [Application User]
# ms.devlang: 
ms.reviewer: [helenho]
ms.search.scope: [Which Operations client to show this topic as help for, to be set by content strategist, see list here: https://microsoft.sharepoint.com/teams/DynDoc/_layouts/15/WopiFrame.aspx?sourcedoc={23419e1c-eb64-42e9-aa9b-79875b428718}&action=edit&wd=target%28Core%20Dynamics%20AX%20CP%20requirements%2Eone%7C4CC185C0%2DEFAA%2D42CD%2D94B9%2D8F2A45E7F61A%2FVersions%20list%20for%20docs%20topics%7CC14BE630%2D5151%2D49D6%2D8305%2D554B5084593C%2F%29]
# ms.tgt_pltfrm: 
# ms.custom: [used by loc for topics migrated from the wiki]
ms.search.region: [Global]
# ms.search.industry: [leave blank for most, retail, public sector]
ms.author: [helenho]
ms.search.validFrom: [September 2017]
ms.dyn365.ops.version: [name of release that feature was introduced in, see list here: https://microsoft.sharepoint.com/teams/DynDoc/_layouts/15/WopiFrame.aspx?sourcedoc={23419e1c-eb64-42e9-aa9b-79875b428718}&action=edit&wd=target%28Core%20Dynamics%20AX%20CP%20requirements%2Eone%7C4CC185C0%2DEFAA%2D42CD%2D94B9%2D8F2A45E7F61A%2FVersions%20list%20for%20docs%20topics%7CC14BE630%2D5151%2D49D6%2D8305%2D554B5084593C%2F%29]
---

## 4.4.	Save Electronic reporting file to secure location
Can be used for any Electronic reporting file, but the example provided is for a Vendor GER EFT payment. The feature uses the Archive functionality with the following setup steps
-	Step 1: Setup Electronic reporting export connection
-	Step 2: Setup Document types, using Step 1’s Connection
-	Step 3: Setup Electronic reporting destination, using Step 2’s Document type
-	Step 4: Setup AP Method of payment and select the Export format configuration from Step 3

Processing: When generating a payment for a method of payment with above GER, the Archive destination is defaulted, and EFT payment file is saved to assigned connection path.

### 4.4.1.	Setup location
#### 4.4.1.1.	Electronic reporting export connections
<b> ORGANISATION ADMINISTRATION > ELECTRONIC REPORTING > ELECTRONIC REPORTING EXPORT CONNECTIONS </b>

Create the location where GER file is to be saved. Connection options include FTP/FTPS, SFTP or Azure blob

<table>
  <tr>
          <th WIDTH="20%" > <b> Field </b>  </th>
          <th WIDTH="60%"> <b> Description </b> </th>
          <th WIDTH="20%"> <b>  Example or Options </b> </th>  
   </tr> 
<tbody>
    <tr>
       <td> Name </td>    
       <td> Enter a name for your connection </td> 	   
       <td> ANZ_FTP </td> 
    </tr> 
    <tr>
       <td> Connection type </td>    
       <td> Select the applicable connection type </td> 	   
       <td> -	FTPP <br> -	Azure blob <br> - 	SFTP</td> 
    </tr> 
    <tr>
       <td> Error action </td>    
       <td> The action to take when there is an error with the connection </td> 	   
       <td> -	Error <br> -	Warning </td> 
    </tr> 
    <tr>Click Save the applicable Setup will be displayed as per Connection type selected </tr>
    <tr><td colSpan ="3" >FTP: </td> </tr>
      <tr>
       <td> Host </td>    
       <td> Specify the Host for the FTP site Note: FTP:// is not required
       </td> 	  
       <td><//td> 
    </tr> 
    <tr>
       <td> Path</td>    
       <td> Enter the path where the files are to be saved on the FTP site. </td> 	   
       <td> /GER_ANZ</td> 
    </tr> 
    <tr>
       <td> Port </td>    
       <td> Specify the Port for the FTP site </td> 	   
       <td> 22 </td> 
    </tr>  
    <tr>
       <td> Enable TLS </td>    
       <td> Select to enable FTPS using TLS </td> 	   
       <td> -	Yes: FTPS <br>  -	No: FTP
       </td> 
    </tr>  
    <tr>
       <td> User </td>    
       <td> Specify the Username used for authentication to the FTP site </td> 	   
       <td> 
       </td> 
    </tr>      
    <tr>
       <td> Credential type </td>    
       <td> Select applicable Credential type for FTP site </td> 	   
       <td> -	Key vault <br> -	Database
       </td> 
    </tr>    
    <tr>
       <td> Password </td>    
       <td> Enabled when Credential type = Database.
            Specify the Password used for authentication to the FTP site.
            Note: this is encrypted and displayed as •••••••••• within the form.
        </td> 	   
       <td> 
       </td> 
    </tr>
    <tr>
       <td> Key vault certificate </td>    
       <td> Enabled when Credential type = Key vault. Select applicable Key vault certificate. </td> 	   
       <td> 
       </td> 
    </tr>  
    <tr>
       <td colSpan = "3" > <b> Azure blob: </b> </td>     
    </tr>
    <tr>
       <td> Container name </td>    
       <td> Specify the blob storage container </td> 	   
       <td> 
       </td> 
    </tr>
    <tr>
       <td> Credential type </td>    
       <td> Select applicable Credential type for Azure blob</td> 	   
       <td> -	Key vault <br> -	Database
       </td> 
    </tr>
    <tr>
       <td> Storage account name </td>    
       <td> Enabled when Credential type = Database </td> 	   
       <td> 
       </td> 
    </tr>
    <tr>
       <td> Storage account key </td>    
       <td> Enabled when Credential type = Database </td> 	   
       <td> 
       </td> 
    </tr>
    <tr>
       <td> Connection string </td>    
       <td> Enabled when Credential type = Key vault </td> 	   
       <td> 
       </td> 
    </tr>
    <tr>
       <td colSpan ="3" > SFTP: </td>    
    </tr>
    <tr>
       <td> Host </td>    
       <td> Specify the Host for the SFTP site <br> Note: SFTP:// is not required
       </td> 	   
       <td> /GER_ANZ
       </td> 
    </tr>
    <tr>
       <td> Path </td>    
       <td> Enter the path where the files are to be saved on the SFTP site
       </td> 	   
       <td> /GER_ANZ
       </td> 
    </tr>
    <tr>
       <td> Port </td>    
       <td> Specify the Port for the SFTP site
       </td> 	   
       <td> 22
       </td> 
    </tr>
    <tr>
       <td> Enable TLS </td>    
       <td> Select to enable SFTP over TLS
       </td> 	   
       <td> -	Yes: SFTP over TLS <br> -	No: SFTP
       </td> 
    </tr>
    <tr>
       <td> User </td>    
       <td> Specify the Username used for authentication to the SFTP site
       </td> 	   
       <td> 
       </td> 
    </tr>
    <tr>
       <td> Credential type </td>    
       <td> Select applicable Credential type for SFTP site
       </td> 	   
       <td> -	Key vault <br> -	Database
       </td> 
    </tr>
     <tr>
       <td> Password </td>    
       <td> Enabled when Credential type = Database.
            <br> Specify the Password used for authentication to the SFTP site.
            <br> Note: this is encrypted and displayed as •••••••••• within the form.
       </td> 	   
       <td> 
       </td> 
    </tr>
     <tr>
       <td> Key vault certificate </td>    
       <td> Enabled when Credential type = Key vault. Select applicable Key vault certificate.
       </td> 	   
       <td> 
       </td> 
    </tr>
 </tbody>
</table>

#### 4.4.1.2.	Document types

<b> ORGANISATION ADMINISTRATION > DOCUMENT MANAGEMENT > DOCUMENT TYPES </b>
Setup the Document type and assign the connection created in step 1

<table style="width: 100%">
    <tr>
          <th WIDTH="25%" > <b> Field </b>  </th>
          <th WIDTH="25%"> <b> Description </b> </th>
          <th WIDTH="50%"> <b> Example or Options </b> </th>  
   </tr> 
   <tbody>
   <tr>
        <td> Type </td>    
        <td> Enter the type </td> 	   
        <td> Example GER </td>
    </tr> 
    <tr>
       <td> Name </td>   
       <td colSpan = "2" > Enter a name for the document type </td> 
    </tr>    
    <tr>
       <td> Class </td>     
       <td> Select Attach file </td> 
       <td> -	Attach file <br> -	Attach URL <br> -	Simple note
    </td> 
    </tr> 
    <tr>
       <td> Group </td>     
       <td> Select <b> File </b> </td> 
       <td> -	Note <br> -	File <br> -	Image <br> - Document <br> - Worksheet <br> - URL
       </td> 
    </tr> 
    <tr>
       <td> Category </td>     
       <td> Select a Category </td> 
       <td> -	None
       </td> 
    </tr> 
     <tr>
       <td> Location SharePoint Address</td>     
       <td> Not used, select any Not used </td> 
       <td> - Azure storage <br> - Database <br> - SharePoint
       </td> 
    </tr>
    <tr>
       <td> Remove </td>     
       <td> Document and physical file </td> 
       <td> 
       </td> 
    </tr>
    <tr>
       <td> Ask for confirmation </td>     
       <td> Should confirmation be requested priori to removing the file </td> 
       <td> - Yes <br> - No
       </td> 
    </tr>
     <tr>
       <td> Electronic report export connection </td>     
       <td> Select the Electronic reporting export connection setup in step 1</td> 
       <td> Example ANZ_FTP
       </td> 
    </tr>
    </tbody>      
</table>

#### 4.4.1.3.	Electronic reporting destination
<b> ORGANISATION ADMINISTRATION > ELECTRONIC REPORTING > ELECTRONIC REPORTING DESTINATION </b>

Setup Electronic reporting destination for selected GER and allocate Document type created in step 2.

<table style="width: 100%">
    <tr>
          <th WIDTH="25%" > <b> Field </b>  </th>
          <th WIDTH="30%"> <b> Description </b> </th>
          <th WIDTH="55%"> <b>  Example or Options </b> </th>  
   </tr> 
   <tbody>
    <tr>
       <td> Reference </td>   
       <td> Select the <b> Electronic reporting Reference </b></td> 
        <td> Example ‘ANZ Direct Credit Service (AU)’ </td> 
    </tr>    
    <tr>
       <td colSpan= "2" > Click <b> + New </b> in File </td>     	   
    </tr> 
    <tr>
        <td> Name</td>    
        <td> Enter name for the destination </td> 	   
        <td> </td>
    </tr> 
    <tr>
        <td> File component name</td>    
        <td> Select <b> PaymentFile </b> </td> 	   
        <td> <b> PaymentFile </b> </td>
    </tr>
    <tr>
        <td colSpan = "2" > Settings</td>    
    </tr>     
    <tr>
        <td> Stop processing on failure </td>    
        <td> If enabled and there are errors when saving the file to location, vendor payment processing <b> Generate payment </b> will create a file and attach to the job. The Payment status will remain <b> None </b> </td> 	   
        <td> -	Yes <br> -	No
        </td>
    </tr>   
    <tr>
        <td colSpan = "2" > Click Settings button and select Archive destination</td>    
    </tr>         
    <tr>
       <td> Enabled </td>   
       <td> Enable the Archive destination </td>  
       <td> - Yes <br> - No
        </td>  
    </tr> 
    <tr>
       <td> Save in job archive </td>   
       <td> Enable saving </td>  
       <td> - Yes <br> - No
        </td>  
    </tr> 
    <tr>
       <td> Type </td>   
       <td> Select the Document type created in step 2 </td>  
       <td> Example GER
        </td>  
    </tr> 
   </tbody> 
</table>


#### 4.4.1.4.	Method of payment
Enable Generic electronic Export format and select the Electronic reporting reference from Setup Step 3 in the Accounts payable Method of payment’s Export format configuration

